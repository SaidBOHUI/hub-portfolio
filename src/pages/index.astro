---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import SiteCard from "../components/SiteCard.astro";
import { sites, profile } from "../data/sites";
---

<Layout>
  <Header />

  <main class="max-w-[1200px] mx-auto px-6">
    <!-- Hero -->
    <section class="pt-16 pb-10 text-center animate-fade-up">
      <div class="inline-flex items-center gap-2.5 px-3.5 py-1.5 text-[0.78rem] font-medium font-mono text-muted-foreground bg-muted border border-border rounded-full mb-5">
        <span class="w-[7px] h-[7px] bg-emerald-500 rounded-full animate-pulse-ring"></span>
        {sites.filter((site)=>site.status == "online").length} projets en ligne
        <!-- {sites.length} projets en ligne -->
      </div>
      <h2 class="text-[clamp(1.4rem,3.5vw,2rem)] font-medium tracking-tight leading-snug max-w-[600px] mx-auto text-foreground">
        {profile.description}
      </h2>
    </section>

    <!-- Grid -->
    <section class="pb-12">
      <div class="grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-5 max-[420px]:grid-cols-1">
        {sites.map((site, i) => (
          <SiteCard site={site} index={i} />
        ))}
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-10 text-center border-t border-border animate-fade-in" style="animation-delay: 400ms;">
      <p class="text-xs text-muted-foreground">
        Built By <span class="font-mono font-medium text-foreground/80">Sa√Ød aka Superfloki</span> with <span class="font-mono font-medium text-foreground/80">Astro</span>
      </p>
    </footer>
  </main>
</Layout>
