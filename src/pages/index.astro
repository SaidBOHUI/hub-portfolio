---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import SiteCard from "../components/SiteCard.astro";
import { sites, profile } from "../data/sites";
---

<Layout>
  <Header />

  <main class="max-w-[1200px] mx-auto px-6">
    <!-- Hero -->
    <section class="pt-16 pb-10 text-center animate-fade-up">
      <div class="inline-flex items-center gap-2.5 px-3.5 py-1.5 text-[0.78rem] font-medium font-mono text-muted-foreground bg-muted border border-border rounded-full mb-5">
        <span class="w-[7px] h-[7px] bg-emerald-500 rounded-full animate-pulse-ring"></span>
        {sites.filter((site)=>site.status == "online").length} projets en ligne
        <!-- {sites.length} projets en ligne -->
      </div>
      <h2 class="text-[clamp(1.4rem,3.5vw,2rem)] font-medium tracking-tight leading-snug max-w-[600px] mx-auto text-foreground">
        {profile.description}
      </h2>
    </section>

    <!-- Grid -->
    <section class="pb-12">
      <div class="grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-5 max-[420px]:grid-cols-1">
        {sites.map((site, i) => (
          <SiteCard site={site} index={i} />
        ))}
      </div>
    </section>


	<!-- Compétences -->
	<section class="pb-12 text-center animate-fade-up" style="animation-delay: 200ms;">
		<div class="flex flex-wrap justify-center gap-3 max-w-[800px] mx-auto">
			<div class="px-4 py-2 bg-muted/50 border border-border rounded-ui">
			<span class="text-xs font-bold text-muted-foreground uppercase tracking-widest block mb-1">Frontend</span>
			<p class="text-sm font-medium">React • Next.js • TypeScript • Tailwind</p>
			</div>
			<div class="px-4 py-2 bg-muted/50 border border-border rounded-ui">
			<span class="text-xs font-bold text-muted-foreground uppercase tracking-widest block mb-1">Backend</span>
			<p class="text-sm font-medium">Python (FastAPI) • Node.js • TensorFlow</p>
			</div>
			<div class="px-4 py-2 bg-muted/50 border border-border rounded-ui">
			<span class="text-xs font-bold text-muted-foreground uppercase tracking-widest block mb-1">Tools & Cloud</span>
			<p class="text-sm font-medium">AWS (S3) • Docker • Git • Astro</p>
			</div>
		</div>
	</section>


	<!-- Contact -->
	<section id="contact" class="py-16 border-t border-border animate-fade-up">
		<div class="max-w-[600px] mx-auto">
			<h2 class="text-2xl font-bold mb-6 text-center">Me contacter</h2>
			<form action="https://formspree.io/f/mojnegyy" method="POST" class="flex flex-col gap-4">
			<div class="grid grid-cols-2 gap-4">
				<input type="text" name="name" placeholder="Nom" required 
				class="bg-card border border-border rounded-ui px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" />
				<input type="email" name="email" placeholder="Email" required 
				class="bg-card border border-border rounded-ui px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" />
			</div>
			<textarea name="message" placeholder="Votre message" rows="4" required
				class="bg-card border border-border rounded-ui px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all"></textarea>
			<button type="submit" 
				class="bg-accent text-accent-foreground font-semibold py-3 rounded-ui hover:opacity-90 transition-all shadow-glow">
				Envoyer le message
			</button>
			</form>
		</div>
	</section>


    <!-- Footer -->
    <footer class="py-10 text-center border-t border-border animate-fade-in" style="animation-delay: 400ms;">
      <p class="text-xs text-muted-foreground">
        Built By <span class="font-mono font-medium text-foreground/80">Saïd aka Superfloki</span> with <span class="font-mono font-medium text-foreground/80">Astro</span>
      </p>
    </footer>
  </main>
</Layout>
